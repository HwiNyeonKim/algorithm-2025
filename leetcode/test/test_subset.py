import pytest

from ..subset import subsets


def assert_subsets(result, expected):
    for i in result:
        if i not in expected:
            return False


@pytest.mark.parametrize(
    "nums, expected",
    [
        [[1, 2, 3], [[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]],
        [[0], [[], [0]]],
        [
            [1, 9, 8, 3, -1, 0],
            [
                [],
                [1],
                [9],
                [1, 9],
                [8],
                [1, 8],
                [8, 9],
                [1, 8, 9],
                [3],
                [1, 3],
                [3, 9],
                [1, 3, 9],
                [3, 8],
                [1, 3, 8],
                [3, 8, 9],
                [1, 3, 8, 9],
                [-1],
                [-1, 1],
                [-1, 9],
                [-1, 1, 9],
                [-1, 8],
                [-1, 1, 8],
                [-1, 8, 9],
                [-1, 1, 8, 9],
                [-1, 3],
                [-1, 1, 3],
                [-1, 3, 9],
                [-1, 1, 3, 9],
                [-1, 3, 8],
                [-1, 1, 3, 8],
                [-1, 3, 8, 9],
                [-1, 1, 3, 8, 9],
                [0],
                [0, 1],
                [0, 9],
                [0, 1, 9],
                [0, 8],
                [0, 1, 8],
                [0, 8, 9],
                [0, 1, 8, 9],
                [0, 3],
                [0, 1, 3],
                [0, 3, 9],
                [0, 1, 3, 9],
                [0, 3, 8],
                [0, 1, 3, 8],
                [0, 3, 8, 9],
                [0, 1, 3, 8, 9],
                [-1, 0],
                [-1, 0, 1],
                [-1, 0, 9],
                [-1, 0, 1, 9],
                [-1, 0, 8],
                [-1, 0, 1, 8],
                [-1, 0, 8, 9],
                [-1, 0, 1, 8, 9],
                [-1, 0, 3],
                [-1, 0, 1, 3],
                [-1, 0, 3, 9],
                [-1, 0, 1, 3, 9],
                [-1, 0, 3, 8],
                [-1, 0, 1, 3, 8],
                [-1, 0, 3, 8, 9],
                [-1, 0, 1, 3, 8, 9],
            ],
        ],
    ],
)
def test_subsets(nums, expected):
    answer = subsets(nums)
    assert_subsets(answer, expected)
