import pytest

from programmers_code_challenge_2025 import solution_count_server_scale_out


@pytest.mark.parametrize(
    "players, m, k, expected",
    [
        [
            [
                0,
                2,
                3,
                3,
                1,
                2,
                0,
                0,
                0,
                0,
                4,
                2,
                0,
                6,
                0,
                4,
                2,
                13,
                3,
                5,
                10,
                0,
                1,
                5,
            ],
            3,
            5,
            7,
        ],
        [
            [
                0,
                0,
                0,
                10,
                0,
                12,
                0,
                15,
                0,
                1,
                0,
                1,
                0,
                0,
                0,
                5,
                0,
                0,
                11,
                0,
                8,
                0,
                0,
                0,
            ],
            5,
            1,
            11,
        ],
        [
            [
                0,
                0,
                0,
                0,
                0,
                2,
                0,
                0,
                0,
                1,
                0,
                5,
                0,
                2,
                0,
                1,
                0,
                0,
                0,
                0,
                0,
                0,
                0,
                1,
            ],
            1,
            1,
            12,
        ],
    ],
)
def test_count_servers_scaled_out(players, m, k, expected):
    answer = solution_count_server_scale_out(players, m, k)
    assert answer == expected
